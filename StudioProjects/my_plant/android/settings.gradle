include ':app'

def flutterRoot = localProperties.getProperty('flutter.sdk')
if (flutterRoot == null) {
    throw new GradleException("Flutter SDK not found. Define location with flutter.sdk in the local.properties file.")
}
apply from: "$flutterRoot/packages/flutter_tools/gradle/flutter.gradle"

// Include dependencies from Flutter plugins
def plugins = new Properties()
def pluginsFile = new File(rootProject.projectDir, '../.flutter-plugins')
if (pluginsFile.exists()) {
    pluginsFile.withReader('UTF-8') { reader -> plugins.load(reader) }
}

plugins.each { name, path ->
    def pluginDir = new File(path)
    if (pluginDir.exists()) {
        include ":$name"
        project(":$name").projectDir = pluginDir
    }
}
